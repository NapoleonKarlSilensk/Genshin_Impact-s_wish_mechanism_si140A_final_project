# 《原神》祈愿抽卡机制的概率论与数理统计分析：从“愿赌服输”到“捕获明光”

---

***本项目为上海科技大学（ShanghaiTech University) 开设课程“面向信息科学的概率论与数理统计”（SI140A）期末项目，仅作教学目的***

---

当前工作列表：

1、制作朴素抽卡模型，即前89次每次抽卡概率均为0.016，如果前89次都没有出金，则第90抽必然出金，不考虑商店的星辉兑换纠缠之缘机制（之后称回收机制，这一步只考虑160原石一抽），不考虑小大保底之分，不考虑捕获明光机制，如果出金了，只是输出“5星卡”；

done

2、为朴素抽卡模型添加小大保底机制，若上一个5星卡并非当期up角色，则下次出金必然是当期up，如果出金，50%概率输出“5星up"，50%概率输出”5星常驻“，不考虑捕获明光，不考虑商店回收机制，不考虑5星常驻具体出的是谁;

done

3、(bonus) 考虑软保底，即74抽后概率逐渐上升，以避免非酋玩家真的中90抽保底；

done

4、95%置信区间与F2P玩家决策；

done

5、添加捕获明光机制；

done

6、添加商店回收机制，商店回收机制只考虑星辉兑换纠缠之缘、不考虑每20天刷新一次的星尘购买纠缠之缘，且要求模型可以随时关闭商店回收；星辉掉落的机制是如果抽到了已经满命（命之座6层，必需抽到7次同样的角色才能满命）的4星角色，那么得到5星辉，如果该4星角色并没满命，则掉落2星辉，如果抽到4星的武器，则固定掉落2星辉，如果抽到重复的5星角色，则掉落20星辉，每5星辉可以换1个纠缠之缘。为了避免问题过于复杂，我们假定研究对象是一个大佬玩家（即他初始拥有除了当期up以外的所有角色，且四星角色均为满命，当他抽出1次up后他再抽到up就可以得20星辉，这个问题的难点是需要在考虑五星出货率的条件下也要关注4星的保底（即每10抽必有1四星，如果出了4星则这个保底重复计算，五星不算四星，因而这会导致一个很诡异的现象即恰好是玩家在本应出4星的第10抽在这一抽抽到五星了，这种情况下这一抽会出5星，并且原来的四星会自动为五星让位，也就是说玩家抽完5星后的下一抽如果不是5星则必然是4星），为了让问题简单化，我们假定这名玩家的四星出货可能性为角色和武器各占一半（即50%），且该玩家为了抽更多的卡会把所有的星辉都用来购买纠缠之缘（星辉购买的纠缠之缘不消耗原石）。

cancel

7、考虑到原神作为一款商业游戏它必须考虑自己的利润最大化，玩家的心情和抽卡的花费是有相关性的两个参数，即玩家要是总吃大保底会变得急躁以至于退坑，这样原神就捞不到钱了，而玩家如果太轻松就出up，又会导致玩家轻贱抽卡，不喜欢花钱买抽数了，而当玩家抽卡抽到74抽还没出的时候头脑就会发热为游戏提供一笔即时收入（玩家反应过来上套之后就会不愿意投钱）等复杂的实际问题；

cancel
